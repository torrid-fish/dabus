import json, copy

sheet = ["5608", "5619", "2011", "5643", "5801", "5700", "9010", "5641", "5802", "5602", "1619", "5642", "5803", "1865", "1250", "5604", "5613", "5350", "5630", "5637", "5640", "5673", "5620", "5639", "5633", "1866", "5807", "7500", "5629", "5823", "5611", "5634", "5621", "5632", "5638", "5635", "9003", "1728", "5622", "5625", "5601", "1804", "5676", "5612", "5605", "5631", "1822", "1821", "5606", "5614", "5670", "5627", "5810", "1620", "5603", "5636", "5609", "5615", "5600", "5626", "5900", "5628", "1820", "5300", "5801A", "5630A", "2011B", "7500O", "7500T", "7500J", "1804A", "5611A", "7500F", "7500D", "5807A", "1866B", "1866A", "1822A", "5634A", "1820B", "5615A", "1820A", "5609A", "9010A", "2011C", "5626A", "9010C", "5625A", "5633A", "7500X" ]

f = json.loads(open('InterCityBus.json', 'r').read())
res = json.loads('[]')

for i in f:
    cur = copy.deepcopy(i)
    cur['Stops'] = []

    for j in i['Stops']:
        if(j['RouteName']['Zh_tw'] in sheet):
            cur['Stops'].append(j)
    
    if(len(cur['Stops']) > 0):
        res.append(cur)

with open('InterCityBus_New.json', 'w') as f:
    f.write(json.dumps(res, ensure_ascii=False))